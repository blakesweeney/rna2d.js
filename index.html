<!DOCTYPE html>
<html lang='en'>
  <head>
    <title>RNA2D.js</title>
    <meta charset='utf-8'>
    <link href='static/css/bootstrap.min.css' rel='stylesheet'>
    <link href='static/css/bootstrap-toggle-buttons.css' rel='stylesheet'>
    <link href='static/css/main.css' rel='stylesheet'>

    <script src='static/jmol/Jmol.js'></script>
    <script src='static/js/sizzle.js'></script>
    <script src='static/js/jquery.min.js'></script>
    <script src='static/js/jquery.toggle.buttons.js'></script>
    <script src='static/js/jquery.jmolTools.js'></script>
    <script src='static/js/d3.js'></script>
    <script src='static/js/bootstrap.min.js'></script>

    <script src='static/js/rna2d.js'></script>

    <script src='static/js/app.js'></script>
  </head>

  <body>

    <div class='navbar navbar-inverse navbar-fixed-top'>
      <div class='navbar-inner'>
        <a class='brand' hr3f='#'>&nbsp;&nbsp;&nbsp;&nbsp;</a>
        <ul class='nav'>
          <li><a href='#modal' data-toggle="modal">About</a></li>
          <li><a href='#example'>Example</a></li>
          <li><a href='api.html'>Usage</a></li>
          <li><a href='#comments'>Comments and Suggestions</a></li>
          <li><a href='https://github.com/blakesweeney/rna2d.js'>Repo</a></li>
        </ul>
      </div>
    </div>

    <div class='container-fluid'>
      <div class='page-header'>
        <h1>RNA2d.js &nbsp; <small>Interact with RNA 2D structures</small></h1>
      </div>

      <div id='view-div' class='row'>
        <div class="span3 offset4">
          <div id='view-buttons' class='btn-group'>
            <button id='airpot-view' class="btn active" >Airport</button>
            <button id='circular-view' class="btn">Circular</button>
          </div>
        </div>
      </div>

      <div id='example' class='row'>

        <div id='interaction-controls' class='span1'>

          <a href="#modal" role="button" class="btn btn-primary btn-block" data-toggle="modal">Help</a>

          <!-- <h5>Mode</h5> -->
          <button type="button" id="mode-toggle" class="btn btn-block"
            data-normal-text="Select" data-loading-text="Click">Select</button>

          <div class="btn-toolbar">
            <button id="motif-toggle" type="button" class="btn btn-block">Motifs</button>
          </div>
          

          <!-- <button id="near-toggle" type="button" class="btn btn-block" data-toggle="button">Near</button> -->

          <!-- <hr> -->

          <div id="control-groups" class="accordian">
            <div id="nucleotide-controls" class="accordion-group">
              <div class="accordion-heading">
                <a class="accordion-toggle" data-toggle="collapse" data-parent="#control-groups"
                  href="#nucleotide-control-buttons">Units</a>
              </div>

              <div id="nucleotide-control-buttons" class="accordion-body collapse">
                <div class="accordion-inner">

                  <!-- <h5>Color By</h5> -->

                  <!-- <ul class="nav nav-pills nav-stacked"> -->
                  <!--   <li class="active"><a href="#">None</a></li> -->
                  <!--   <li><a href="#">R</a></li> -->
                  <!--   <li><a href="#">Rfree</a></li> -->
                  <!-- </ul> -->

                  <div class="button-group">
                    <div class="btn-toolbar">
                      <a id="sequence-control" href='#' class="btn btn-small">
                        <i class="icon-tint"></i>
                      </a>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div id="interaction-controls" class="accordion-group">
              <div class="accordion-heading">
                <a class="accordion-toggle" data-toggle="collapse"
                  data-parent="#control-groups" href="#interaction-control-buttons">Pairs</a>
              </div>

              <div id="interaction-control-buttons" class="accordion-body collapse in">
                <div class="accordion-inner">
                  <div class="btn-toolbar">
                    <button type="button" id='cWW-toggle' class="btn btn-block cWW toggle-control">cWW</button>
                  </div>

                  <div class="btn-toolbar">
                    <button type="button" id='tWW-toggle' class="btn btn-block tWW toggle-control">tWW</button>
                  </div>

                  <div class="btn-toolbar">
                    <button type="button" id="cWS-toggle" class="btn btn-block cWS toggle-control">cWS</button>
                  </div>

                  <div class="btn-toolbar">
                    <button type="button" id="tWS-toggle" class="btn btn-block tWS toggle-control">tWS</button>
                  </div>

                  <div class="btn-toolbar">
                    <button type="button" id="cWH-toggle" class="btn btn-block cWH toggle-control">cWH</button>
                  </div>

                  <div class="btn-toolbar">
                    <button type="button" id="tWH-toggle" class="btn btn-block tWH toggle-control">tWH</button>
                  </div>

                  <div class="btn-toolbar">
                    <button type="button" id="cSH-toggle" class="btn btn-block cSH toggle-control">cSH</button>
                  </div>

                  <div class="btn-toolbar">
                    <button type="button" id="tSH-toggle" class="btn btn-block tSH toggle-control">tSH</button>
                  </div>

                  <div class="btn-toolbar">
                    <button type="button" id="cSS-toggle" class="btn btn-block cSS toggle-control">cSS</button>
                  </div>

                  <div class="btn-toolbar">
                    <button type="button" id="tSS-toggle" class="btn btn-block tSS toggle-control">tSS</button>
                  </div>

                  <div class="btn-toolbar">
                    <button type="button" id="cHH-toggle" class="btn btn-block cHH toggle-control">cHH</button>
                  </div>

                  <div class="btn-toolbar">
                    <button type="button" id="tHH-toggle" class="btn btn-block tHH toggle-control">tHH</button>
                  </div>
                </div>
                
              </div>
            </div>
          </div>

        </div>

        <div class='span6'>
          <!-- 2D structure -->
          <div id='rna-2d'></div>
        </div>

        <div class='jmol-viewer'>
          <div id="overflow" class="alert alert-error" style="display: none">
            <button type="button" class="close" data-dismiss="alert">×</button>
            <strong>Error!</strong> Can only select 200 nts at a time
          </div>
          <div id='jmol' class='well'>
            <script type="text/javascript">
              jmolInitialize("./static/jmol");
              jmolSetDocument(0);
              jmolSetAppletColor("#ffffff");
            </script>
          </div>
          <div id="about-selection" class="well" style="display: none">
          </div>
        </div>

      </div>

        <div id="modal" class='modal hide fade' tabindex="-1" role="dialog">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
            <h3>RNA2D.js</h3>
          </div>

          <div class="modal-body">
            <p>
              <a href='https://github.com/blakesweeney/rna2d.js'>RNA2D.js</a>
              is a tool to visualize and interact with RNA Secondary
              structures. It is meant to create the standard airport diagrams and
              provide a way to interact with them. Currently, we can easily
              integrate the 2D visualization with the 3D visualization provided by
              <a href='https://github.com/AntonPetrov/jmolTools'>jmolTools</a>.
            </p>

            <a class="btn btn-primary" href="http://rna.bgsu.edu/main/interacting-with-2d-structures" target="_blank">More details</a>
            <h4>Interactivity</h4>

            <p>
              In the default select mode,
              click and drag to create a selection box. All nucleotides within
              the selection box will be displayed in a jmol window to the right.
            </p>

            <p>
              The selection box is dragable and resizeable. Click inside and
              drag to move it. Click on the border and drag to resize it.
            </p>

            <p>
              In click mode, click on a interaction to display the interaction
              in 3D. To switch to the click mode use the selection mode control.
            </p>

            <p>
              Interactions are displayed as black bars connecting nucleotides,
              by default only cWW interactions are displayed. To display other
              interactions use the interaction controls.
            </p>
          </div>

          <div class="modal-footer">
            <button class="btn" data-dismiss="modal" aria-hidden="true">Close</button> 
          </div>
        </div>

      <div class='row'>
        <div class='span9'>
          <h2>Data</h2>
          <p>
            This example uses the 16S <i>E. coli</i> secondary structure provided
            <a href='http://www.rna.ccbb.utexas.edu/'>Comparative RNA Web Site and
              Project</a> and interaction annotations of <a
              href='http://www.rcsb.org/pdb/explore.do?structureId=2aw7'>2AW7</a>
            (<a href='http://rna.bgsu.edu/rna3dhub/pdb/2AW7'>RNA 3D Hub</a>) from
            <a href='http://rna.bgsu.edu/main/software/fr3d/'>FR3D</a>.
          </p>
        </div>
      </div>

      <div class='row'>
        <div class='span9' id='comments'>
          <h2>Comments and Suggestions</h2>
          <p>
            Please leave any comments and suggestions for improving this
            tool. This tool is currently a prototype and any comments are
            welcome.
          </p>
          <div class='span6' id="disqus_thread"></div>
        </div>
      </div>

      <script type="text/javascript">
          var disqus_shortname = 'rna2djs';

          /* * * DON'T EDIT BELOW THIS LINE * * */
          (function() {
              var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
              dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
              (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
          })();
      </script>
      <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
      <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

  </body>
</html>
